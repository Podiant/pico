!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function i(n,i){for(var t=0;t<i.length;t++){var e=i[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function t(n,t,e){return t&&i(n.prototype,t),e&&i(n,e),n}function e(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&r(n,i)}function o(n){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function r(n,i){return(r=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(n,i)}function a(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function s(n,i){return!i||"object"!=typeof i&&"function"!=typeof i?a(n):i}var u=function(){function i(){n(this,i),this.__callbacks={}}return t(i,[{key:"on",value:function(n,i){return void 0===this.__callbacks[n]&&(this.__callbacks[n]=[]),this.__callbacks[n].push(i),this}},{key:"off",value:function(n,i){var t=this.__callbacks[n];if(void 0===t)return this;var e=[];if(void 0!==i)for(var o=0;o<t.length;o++)t[o]!==i&&e.push(t[o]);return this.__callbacks[n]=e,this}},{key:"emit",value:function(n){var i=this.__callbacks[n],t=Array.from(arguments).slice(1);if(void 0!==i)for(var e=0;e<i.length;e++)i[e].apply(this,t);return this}}]),i}(),c=function(i){function r(i){var t,e=i.plugins;return n(this,r),(t=s(this,o(r).call(this))).__plugins=[],Array.isArray(e)&&e.forEach((function(n){var i=new n(a(t));t.__plugins.push(i)})),t.$=window.$,t.$(document).ready((function(){t.ready()})),t}return e(r,i),t(r,[{key:"ready",value:function(){this.emit("ready")}}]),r}(u),f=function(i){function r(i){var t;return n(this,r),t=s(this,o(r).call(this)),i.on("ready",t.ready),t}return e(r,i),t(r,[{key:"ready",value:function(){}}]),r}(u),d=function(i){function t(i,e){var r;n(this,t),r=s(this,o(t).call(this));r.show=function(n){return new Promise((function(i){e.hasClass("active")&&(r.emit("shown"),i()),r.emit("showing"),n?e.addClass("showing-"+n):e.addClass("showing"),setTimeout((function(){n?e.removeClass("showing-"+n):e.removeClass("showing"),r.emit("shown"),i()}),333)}))},r.hide=function(n){return new Promise((function(i){r.emit("hiding"),n?e.addClass("hiding-"+n):e.addClass("hiding"),setTimeout((function(){n?e.removeClass("hiding-"+n):e.removeClass("hiding"),r.emit("hidden"),i()}),333)}))},r.on("showing",(function(){e.addClass("active")})),r.on("hidden",(function(){e.removeClass("active")})),r.on("shown",(function(){e.find(":input").first().focus()})),r.on("validation",(function(n){if(void 0===n)return e.find(":input.is-invalid").removeClass("is-invalid"),void e.find(".invalid-feedback").remove();var i=window.$(n.field),t=i.closest(".form-group"),o=t.find(".invalid-feedback");i.addClass("is-invalid"),o.length||(o=window.$("<div>").addClass("invalid-feedback")).appendTo(t),o.text(n.message),i.focus()})),r.prev=function(){r.hide("rw").then((function(){r.emit("moving.prev"),r.emit("prev")}))},r.next=function(){var n,i,t;n=e.find('button, input[type="button"]').attr("disabled","disabled"),i=e.find(":input").not(n).not("[disabled]"),t=function(){n.removeAttr("disabled"),i.removeAttr("disabled")},i.attr("disabled","disabled"),r.on("moving.next",t),r.on("validation",(function(n){n&&t()})),r.emit("validation"),r.validate().then((function(){r.emit("moving.next"),r.hide("ff").then((function(){r.emit("next")}))})).catch((function(n){r.emit("validation",n)}))},r.validate=function(){return new Promise((function(n,i){var t=!1;e.find(":input").each((function(){if(t)return!1;var n=window.$(this),e=n.val();return n.attr("required")&&!e.trim()?(t=!0,i({field:n,message:"This field is required."}),!1):void 0})),t||n()}))};var u=a(r);return e.on("click",'[data-action="prev"]',(function(){u.prev()})),e.on("click",'[data-action="next"]',(function(){u.next()})),e.on("keydown",":input",(function(n){13===n.keyCode&&u.next()})),r}return e(t,i),t}(u),l=function(i){function t(i){var e;n(this,t);var r=a(e=s(this,o(t).call(this))),u=[];return i.find(".step").each((function(){var n=new d(r,window.$(this));u.push(n)})),u.forEach((function(n,i){i>0&&n.on("moving.prev",(function(){u[i-1].show("rw")})),i<u.length&&n.on("moving.next",(function(){u[i+1].show("ff")}))})),e.show=function(n){void 0===n&&(n=0),u[n].show()},e}return e(t,i),t}(u),h=function(i){function r(){return n(this,r),s(this,o(r).apply(this,arguments))}return e(r,i),t(r,[{key:"ready",value:function(){var n=this.$;n(".onboarding.wizard").each((function(){new l(n(this)).show()}))}}]),r}(f);window.Pico=new c({plugins:[h]})}));
//# sourceMappingURL=pico.js.map